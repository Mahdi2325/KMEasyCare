<div class="panel panel-default">
    <div class="panel-body">
        <form class="form-horizontal">
            <div class="form-group">
                <label class="col-sm-1 control-label">开始日期</label>
                <div class="col-sm-2">
                    <input class="form-control" type="text" ng-model="searchText.startDate" ca-date-picker>
                </div>
                <label class="col-sm-1 control-label">结束日期</label>
                <div class="col-sm-2">
                    <input class="form-control" type="text" ng-model="searchText.endDate" ca-date-picker>
                </div>
                <label class="col-sm-1 control-label"></label>
                <div class="col-sm-2 input-group">
                    <a class="btn btn-info" ng-click="search()">查询</a>
                    <!--<a class="btn btn-info">新增</a>-->
                </div>
            </div>
        </form>
    </div>
</div>

<div class="box border primary">
    <div class="box-title">
        <h4><i class="fa fa-table"></i>领用/费用列表</h4>
    </div>
    <div class="box-body">
        <ui-data-table options="saleOptions">
            <table class="table table-striped table-bordered table-hover table-handler">
                <thead>
                    <tr>
                        <th>编号</th>
                        <th>收费专案</th>
                        <th>费用产生日期</th>
                        <th>数量</th>
                        <th>金额</th>
                        <th>单价</th>
                        <th>备注</th>
                        <th><i class="fa fa-bars"></i> 操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in Sales" ng-click="rowSelect(item)" ng-class="{true: 'ng-scope active', false: 'ng-scope'}[item.Id==currentItem.Id]">
                        <td>{{item.No}}</td>
                        <td>{{item.GoodsName}}</td>
                        <td>{{item.SaleTime | dateFormat}}</td>
                        <td>{{item.Amount}}</td>
                        <td>{{item.Sum}}</td>
                        <td>{{item.Price}}</td>
                        <td>{{item.Remark}}</td>
                        <td class="col-sm-2 btn-group btn-group-xs">
                            <a class="btn btn-info" ng-click="rowSelect(item)"><i class="fa fa-pencil"></i>编辑</a>
                            <a class="btn btn-primary" ng-show="false" ng-click="delete(item.Id)"><i class="fa fa-times"></i>删除</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </ui-data-table>
    </div>
</div>

<div class="well">
    <form class="form-horizontal" role="form" name="formSale" novalidate>
        <input type="hidden" ng-model="currentItem.GoodsId" />
        <!--<div class="form-group">
            <label class="col-sm-1 control-label">编码</label>
            <div class="col-sm-5">
                <input type="text" class="form-control" ng-model="currentItem.No" id="txtNo" />
            </div>
        </div>-->
        <div class="form-group">
            <label class="col-sm-1 control-label">收费专案<span class="required">*</span></label>
            <div class="col-sm-5">
                <input type="text" name="收费专案" class="form-control" ng-disabled="true" ng-model="currentItem.GoodsName" required />
            </div>
            <label class="col-sm-1 control-label">费用产生日期</label>
            <div class="col-sm-5">
                <input type="text" class="form-control"  ng-model="currentItem.SaleTime" ca-date-picker />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label">数量<span class="required">*</span></label>
            <div class="col-sm-5">
                <input ng-pattern="/^[1-9]\d*$/" type="number" name="数量" class="form-control"  ng-maxlength="9" ng-model="currentItem.Amount" required />
            </div>
            <label class="col-sm-1 control-label">单价</label>
            <div class="col-sm-5">
                <input ng-pattern="/^[1-9]\d*|[1-9]\d*\.\d*[1-9]|0\.\d*[1-9]$/" name="单价" ng-maxlength="15" type="number" class="form-control" ng-model="currentItem.Price" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label">金额</label>
            <div class="col-sm-5">
                <input ng-pattern="/^[1-9]\d*|[1-9]\d*\.\d*[1-9]|0\.\d*[1-9]$/" name="金额" ng-maxlength="15" type="number" class="form-control" ng-model="currentItem.Sum" />
            </div>
            <label class="col-sm-1 control-label">备注</label>
            <div class="col-sm-5">
                <input type="text" class="form-control" name="备注" ng-model="currentItem.Remark" ng-maxlength="150" />
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-1 col-sm-11">
                <button class="btn btn-info" ng-click="saveEdit(currentItem)">保存</button>
                <button class="btn btn-info" ng-click="add()">重置</button>
                <!--<button class="btn btn-info" ng-click="delete(currentItem.Id)"><i class="fa fa-times"></i>删除</button>-->
            </div>
        </div>
    </form>
</div>




