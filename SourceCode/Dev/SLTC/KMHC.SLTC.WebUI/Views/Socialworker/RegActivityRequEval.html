<div class="row">
    <div id="content" class="col-lg-12">
        <!--标题-->
        <div class="row">
            <div class="col-sm-12">
                <div class="page-header">
                    <ul class="breadcrumb">
                        <li>
                            <i class="fa fa-home"></i>
                            <a href="/">首页</a>
                        </li>
                        <li>个别化活动需求评估及计划</li>
                    </ul>
                </div>
            </div>
        </div>
        <!--标题-->
        <div class="row">
            <div class="col-sm-2">
                <div class="box border primary">
                    <div class="box-title">
                        <h4>
                            <i class="fa fa-bars"></i>住民信息
                        </h4>
                    </div>
                    <div class="box-body">
                        <resident-card feeno={{FeeNo}} callback="residentSelected(resident)" />
                    </div>
                </div>
            </div>

            <div class="col-sm-10">
                <div class="box border primary">
                    <div class="box-title">
                        <h4>
                            <i class="fa fa-bars"></i>个别化活动需求评估及计划
                        </h4>
                    </div>
                    <div class="box-body">
                        <form class="form-horizontal" role="form" name="ActivityReauEvalForm" novalidate>
                            <div>
                                <div class="form-group">
                                    <label class="col-sm-1 control-label">入住日期</label>
                                    <div class="col-sm-2">
                                        <input class="form-control" type="text" ng-model="InDate" ng-disabled="true" ca-date-picker>
                                    </div>
                                    <label class="col-sm-1 control-label">评估日期<span class="required">*</span></label>
                                    <div class="col-sm-2">
                                        <input class="form-control" name="评估日期" type="text" ng-model="currentItem.EvalDate" ca-date-picker required>
                                    </div>
                                    <label class="col-sm-1 control-label">社工<span class="required">*</span></label>
                                    <div class="col-sm-2">
                                        <input-staff id="txtRecordBy" callback="staffSelected(item)" value="{{currentItem.Carer}}" required="true" />
                                    </div>
                                </div>
                            </div>
                            <br />
                            <fieldset>
                                <legend>生理评估</legend>
                                <div class="well">
                                    <div class="form-group">
                                        <label class="col-sm-1 control-label">视觉</label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="selVision" ng-model="currentItem.Vision" select-code="L00.010"></select>
                                        </div>
                                        <label class="col-sm-1 control-label">嗅觉</label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="selSmell" ng-model="currentItem.Smell" select-code="L00.010"></select>
                                        </div>
                                        <label class="col-sm-1 control-label">触觉</label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="selSensation" ng-model="currentItem.Sensation" select-code="L00.010"></select>
                                        </div>
                                        <label class="col-sm-1 control-label">味觉</label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="selTaste" ng-model="currentItem.Taste" select-code="L00.010"></select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-1 control-label">听觉</label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="selHearing" ng-model="currentItem.Hearing" select-code="L00.010"></select>
                                        </div>
                                        <label class="col-sm-1 control-label">上肢</label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="selUpperlimb" ng-model="currentItem.Upperlimb" select-code="L00.010"></select>
                                        </div>
                                        <label class="col-sm-1 control-label">下肢</label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="selLowerlimb" ng-model="currentItem.Lowerlimb" select-code="L00.010"></select>
                                        </div>
                                        <label class="col-sm-1 control-label">幻觉</label>
                                        <div class="col-sm-2">
                                            <input class="form-control" type="text" ng-model="currentItem.Hallucination" ng-maxlength="10">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-1 control-label">妄想</label>
                                        <div class="col-sm-2">
                                            <input class="form-control" type="text" ng-model="currentItem.Delusion" ng-maxlength="10">
                                        </div>
                                        <label class="col-sm-1 control-label">注意力</label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="selAttention" ng-model="currentItem.Attention" select-code="L00.011"></select>
                                        </div>
                                        <label class="col-sm-1 control-label">定向感</label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="selDirectionsense" ng-model="currentItem.Directionsense" select-code="L00.012"></select>
                                        </div>
                                        <div class="col-sm-3">
                                            <div class="input-group">
                                                <span class="input-group-addon">(</span>
                                                <span class="input-group-addon" style="text-align:left"><input type="checkbox" id="Directman" ng-model="Directman" /><label style="font-weight:normal;" for="Directman"> &nbsp;人</label> </span>
                                                <span class="input-group-addon" style="text-align:left"><input type="checkbox" id="Directtime" ng-model="Directtime" /><label style="font-weight:normal" for="Directtime"> &nbsp;时</label> </span>
                                                <span class="input-group-addon" style="text-align:left"><input type="checkbox" id="Directaddress" ng-model="Directaddress" /><label style="font-weight:normal" for="Directaddress"> &nbsp;地</label></span>
                                                <span class="input-group-addon">)</span>
                                            </div>
                                            <!--<label class="control-label checkbox-inline" style="float:left"><input type="checkbox" style="float:left" ng-model="Directman" />&nbsp; 人</label>

                                            <label class="control-label checkbox-inline" style="float:left"><input type="checkbox" style="float:left" ng-model="Directtime" />&nbsp; 时</label>

                                            <label class="control-label checkbox-inline" style="float:left"><input type="checkbox" style="float:left" ng-model="Directaddress" />&nbsp; 地</label>-->
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-sm-1 control-label">理解力</label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="selComprehension" ng-model="currentItem.Comprehension" select-code="L00.013"></select>
                                        </div>
                                        <label class="col-sm-1 control-label">表达</label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="selEventDegree" ng-model="currentItem.Expression" select-code="L00.014"></select>
                                        </div>
                                        <label class="col-sm-1 control-label">记忆力</label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="selMemory" ng-model="currentItem.Memory" select-code="L00.013"></select>
                                        </div>
                                        <div class="col-sm-3">
                                            <div class="input-group">
                                                <span class="input-group-addon">(</span>
                                                <span class="input-group-addon" style="text-align:left"><input type="checkbox" ng-model="LongMemory" id="LongMemory" ng-click="checkLongMemory()" /><label style="font-weight:normal;" for="LongMemory"> &nbsp;长期</label> </span>
                                                <span class="input-group-addon" style="text-align:left"><input type="checkbox" ng-model="ShortMemory" id="ShortMemory" ng-click="checkShortMemory()" /><label style="font-weight:normal;" for="ShortMemory"> &nbsp;短期</label></span>
                                                <span class="input-group-addon">)</span>
                                            </div>
                                            <!--<label class="control-label checkbox-inline" style="float:left"><input type="checkbox" style="float:left" ng-model="LongMemory" ng-click="checkLongMemory()" />&nbsp; 长期</label>
                                            <label class="control-label checkbox-inline" style="float:left"><input type="checkbox" style="float:left" ng-model="ShortMemory" ng-click="checkShortMemory()" />&nbsp; 短期</label>-->
                                        </div>


                                    </div>  
                                    <div class="form-group">
                                        <label class="col-sm-1 control-label">其他叙述</label>
                                        <div class="col-sm-11">
                                            <input class="form-control" ng-model="currentItem.Othernarrative" ng-maxlength="50" />
                                        </div>
                                    </div>
                                </div>
                            </fieldset>

                            <fieldset>
                                <legend>心理社会功能</legend>
                                <div class="well">
                                    <div class="form-group">
                                        <label class="col-sm-1 control-label">情绪</label>
                                        <div class="col-sm-5">
                                            <input class="form-control" name="情绪" type="text" ng-model="currentItem.Emotion" select-items="心理社会功能-情绪" maxlength="200">
                                        </div>
                                        <label class="col-sm-1 control-label">自我概念</label>
                                        <div class="col-sm-5">
                                            <input class="form-control" name="自我概念" type="text" ng-model="currentItem.Self" select-items="心理社会功能-自我概念" maxlength="200">
                                        </div>

                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-1 control-label">内容(行为)</label>
                                        <div class="col-sm-2">
                                            <input class="form-control" name="内容(行为)" ng-model="currentItem.Behaviorcontent" ng-maxlength="200" />
                                        </div>
                                        <label class="col-sm-1 control-label">频率(行为)</label>
                                        <div class="col-sm-2">
                                            <input class="form-control" name="频率(行为)" ng-model="currentItem.Behaviorfreq" ng-maxlength="200" />
                                        </div>
                                        <label class="col-sm-1 control-label">活动参加意愿</label>
                                        <div class="col-sm-5">
                                            <input class="form-control" name="活动参加意愿" type="text" ng-model="currentItem.Activity" select-items="心理社会功能-活动参加意愿" maxlength="200">
                                        </div>
                                    </div>
                                </div>
                            </fieldset>

                            <fieldset>
                                <legend>会谈</legend>
                                <div class="well">
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">已会谈个案</label>
                                        <div class="col-sm-10">
                                            <div class="input-group">
                                                <span class="input-group-addon" style="text-align:left"><input type="checkbox" ng-model="currentItem.Talkedwilling" ng-click="checkTalkedwilling()" id="Talkedwilling" /> <label style="font-weight:normal;" for="Talkedwilling">  &nbsp;有意愿及选择参与之活动内容</label></span>
                                                <span class="input-group-addon" style="text-align:left"><input type="checkbox" ng-model="currentItem.Talkednowilling" ng-click="checkTalkednowilling()" id="Talkednowilling" /><label style="font-weight:normal;" for="Talkednowilling">&nbsp;无意愿参与活动将安排资源介入或个别辅导</label></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">无法会谈个案</label>
                                        <div class="col-sm-10">
                                            <div class="input-group">
                                                <span class="input-group-addon" style="text-align:left"><input type="checkbox" id="Nottalked" ng-model="currentItem.Nottalked" /><label  style="font-weight:normal;" for="Nottalked"> &nbsp;因生理/心理/认知等障碍由社工预计参与活动</label></span>
                                                <span class="input-group-addon" style="text-align:left"></span>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>

                            <fieldset>
                                <legend>预计参与活动项目</legend>
                                <div class="well">
                                    <div class="form-group">
                                        <label class="col-sm-1 control-label">文康休闲活动</label>
                                        <div class="col-sm-3">
                                            <input class="form-control" name="文康休闲活动" type="text" ng-model="currentItem.Artactivity" select-items="个别化活动-文康休闲活动" maxlength="200" />
                                        </div>
                                        <label class="col-sm-1 control-label">辅料性活动</label>
                                        <div class="col-sm-3">
                                            <input class="form-control" name="辅料性活动" ng-model="currentItem.Aidsactivity" select-items="个别化活动-辅料性活动" maxlength="200" />
                                        </div>
                                        <label class="col-sm-1 control-label">重症区活动</label>
                                        <div class="col-sm-3">
                                            <input class="form-control" name="重症区活动" ng-model="currentItem.Severeactivity" select-items="个别化活动-重症区活动" maxlength="200" />
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                            <div class="form-group">
                                <div class="col-sm-offset-1 col-sm-11">
                                    <button class="btn btn-primary" type="submit" ng-show="buttonShow" ng-click="saveActivityRequEvalEdit(currentItem)">保存</button>
                                    <button class="btn btn-primary" ng-show="buttonShow" ng-click="clear()">重置</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="box-body">
                        <ui-data-table options="options">
                            <table class="table table-striped table-bordered table-hover table-handler">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>入住日期</th>
                                        <th>评估日期</th>
                                        <th>社工</th>
                                        <th><i class="fa fa-bars"></i> 操作</th>
                                    </tr>
                                </thead>

                                <tbody>
                                    <tr ng-repeat="item in Data.items">
                                        <td>{{$index + 1}}</td>
                                        <td>{{item.InDate | dateFormat}}</td>
                                        <td>{{item.EvalDate | dateFormat}}</td>
                                        <td>{{item.CarerName}}</td>
                                        <td>
                                            <div class="btn-group btn-group-xs" role="group" aria-label="...">
                                                <a class="btn btn-info" role="button" ng-click="rowSelect(item)"><i class="fa fa-pencil"></i>编辑</a>
                                                <a class="btn btn-primary" role="button" ng-click="deleteItem(item)"><i class="fa fa-times"></i>删除</a>
                                                <a class="btn btn-warning" role="button" ng-click="PrintPreview(item)"><i class="fa fa-print"></i>打印</a>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>

                            </table>
                        </ui-data-table>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>
